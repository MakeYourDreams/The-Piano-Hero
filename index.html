<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset=utf-8>
	<meta name="viewport" content="width=620">
	<title>HTML5 Demo: File API</title>
	<link rel="stylesheet" href="main.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Slab&display=swap" rel="stylesheet">
	<script src="https://unpkg.com/tone@latest/build/Tone.js"></script>
	<script src="./scripts/component.js"></script>
	<script src="./scripts/obstacle.js"></script>
	<script src="./scripts/player.js"></script>	
	<script src="./scripts/game.js"></script>
	<script src="./scripts/script.js"></script>
	<script src="./scripts/SMFreader.js"></script>
	<script src="./scripts/dragdrop.js"></script>
</head>
<body>
	<section id="wrapper">
		<header>
			<h1>Standard MIDI File Reader</h1>
		</header>

		<input type='file' accept='.MID' onchange='openFile(event)'><br>
		<img id='output'>
		<script>
		  var openFile = function(event) {
			  
			var input = event.target;
		
						reader = new FileReader();
						reader.onload = function (event) {
						decodeSMF(event.target.result);
						};
						reader.onerror = function (event) {
						alert("Error: " + reader.error );
						};
						reader.readAsArrayBuffer(input.files[0]);
						return false;
			
		  };
		</script>
		

		<article>
			<center>
			<div id="game-board">
				<canvas id="canvas" width="820" height="570"></canvas>
			</div>
		</center>
		<ul id="piano">
				<li id="n1" class="key">
					<kbd>1</kbd>
				</li>
				<li id="n2" class="key">
					<kbd>2</kbd>
				</li>
				<li id="n3" class="key">
				  <kbd>3</kbd>
				</li>
				<li id="n4" class="key">
					<kbd>Space</kbd> 
				</li>
				<li id="n5" class="key">
					<kbd>←</kbd> 
				</li>
				<li id="n6" class="key">
					<kbd>↑</kbd> 
				</li>
				<li id="n7" class="key">
					<kbd>→</kbd> 
				</li>
			  </ul>
			<div id="holder"></div> 
			<p id="status">File API &amp; FileReader API not supported</p>
			<p>Drag a MIDI file from your desktop on to the drop zone above to see the browser read the contents of the file without uploading the file to any servers.</p>

			<p id="updates">updates here</p>
		</article>
	</section>
</body>
</html>
